{"ast":null,"code":"var _jsxFileName = \"/Users/lidorzaken/Documents/Sulam/my-app/src/components/forms/addNewStud.js\";\nimport React, { Component } from 'react';\nimport './form.css';\n\nclass AddNewStud extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handleProgress = progress => this.setState({\n      progress: progress + \"%\"\n    });\n\n    let endOfProcess = false;\n    let organizerId = \"\";\n    let today = new Date();\n    let hour = today.getHours();\n    let endTime = (hour + 1) % 24 + \"\";\n    hour += \"\";\n    if (hour.length > 1) hour = hour + \":00\";else hour = \"0\" + hour + \":00\";\n    if (endTime.length > 1) endTime = endTime + \":00\";else endTime = \"0\" + endTime + \":00\";\n    let dd = today.getDate();\n    let mm = today.getMonth() + 1; //January is 0!\n\n    let yyyy = today.getFullYear();\n\n    if (dd < 10) {\n      dd = \"0\" + dd;\n    }\n\n    if (mm < 10) {\n      mm = \"0\" + mm;\n    }\n\n    today = yyyy + \"-\" + mm + \"-\" + dd;\n    if (props.user != undefined) organizerId = props.user.id;\n    this.state = {\n      name: \"\",\n      category: \"\",\n      organizer: \"\",\n      phoneNumber: \"\",\n      location: \"\",\n      minPartici: \"\",\n      maxPartici: \"\",\n      description: \"\",\n      date: today,\n      hour: hour,\n      endTime: endTime,\n      imgUrl: \"\",\n      numOfCurrPartici: 0,\n      isUploading: false,\n      isConfirmed: false,\n      organizerId: organizerId,\n      categoryList: []\n    };\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleUploadSuccess = this.handleUploadSuccess.bind(this);\n    this.handleUploadError = this.handleUploadError.bind(this);\n    this.handleUploadStart = this.handleUploadStart.bind(this);\n    this.handleProgress = this.handleProgress.bind(this);\n    this.isValidForm = this.isValidForm.bind(this);\n  }\n\n  isValidForm() {\n    if (this.state.category == \"\") {\n      Alert.info(\"אנא בחר קטגוריה\");\n      return false;\n    } else if (this.state.imgUrl == \"\") {\n      Alert.info(\"נשמח לתמונה בבקשה\");\n      return false;\n    } else if (this.state.hour == \"\" || this.state.date == \"\") {\n      Alert.info(\"איך נדע מתי זה קורה? נצטרך תאריך ושעה בבקשה\");\n      return false;\n    }\n\n    return true;\n  } //fetch the categories from the DB\n\n\n  componentDidMount() {\n    let categories = [];\n    let self = this;\n    firebase.database().ref(\"/CategoryList/\").once(\"value\").then(function (snapshot) {\n      Object.keys(snapshot.val()).forEach(function (value) {\n        categories.push({\n          type: value\n        });\n      });\n\n      if (self.state.category == \"\" && categories.length > 0) {\n        self.setState({\n          categoryList: categories,\n          category: categories[0].type\n        });\n      } else {\n        self.setState({\n          categoryList: categories\n        });\n      }\n    });\n  } // set the input to the right state\n\n\n  handleChange(e) {\n    if ([e.target.name] == \"maxPartici\" || [e.target.name] == \"minPartici\") {\n      this.setState({\n        [e.target.name]: parseInt(e.target.value)\n      });\n    } else {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    }\n  } //check for valid ,wait if still in upload ,redirect to main page\n\n\n  async handleSubmit(e) {\n    e.preventDefault();\n\n    if (!this.isValidForm()) {\n      return;\n    }\n\n    if (this.state.isUploading) {\n      return;\n    }\n\n    await this.setState({\n      isUploading: null\n    });\n    let ref = firebase.database().ref(\"/CategoryList/\" + this.state.category + \"/classList\" + \"/\" + this.state.name + \"/\");\n    ref.set(this.state);\n    ref = firebase.database().ref(\"/CategoryList/\" + this.state.category + \"/classList/\" + this.state.name + \"/categoryList\");\n    ref.remove();\n    this.endOfProcess = true;\n    this.setState({});\n    window.scrollTo(0, 0);\n    Alert.success(\"תודה רבה! החוג נשלח לאישור ההנהלה ויוצג באתר לאחר שיאושר\");\n  } //upload image funcs\n\n\n  handleUploadStart() {\n    this.setState({\n      isUploading: true\n    });\n  }\n\n  handleUploadError(error) {\n    console.error(error);\n  }\n\n  handleUploadError(error) {\n    alert(\"Upload Error: \" + error);\n  }\n\n  handleUploadSuccess(filename) {\n    this.setState({\n      isUploading: false\n    });\n    firebase.storage().ref(\"formImages\").child(filename).getDownloadURL().then(url => this.setState({\n      imgUrl: url,\n      progress: []\n    }));\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"formPage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, React.createElement(NavBar, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"completeReg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"headLineForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, \"\\u05D8\\u05D5\\u05E4\\u05E1 \\u05E8\\u05D9\\u05E9\\u05D5\\u05DD \\u05D7\\u05D5\\u05D2 \\u05D7\\u05D3\\u05E9\"), React.createElement(\"div\", {\n      className: \"formEx\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      className: \"fillDetLab\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"\\u05D0\\u05E0\\u05D0 \\u05DE\\u05DC\\u05D0 \\u05E4\\u05E8\\u05D8\\u05D9\\u05DD\"), React.createElement(\"form\", {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \" \\u05E9\\u05DD \\u05D4\\u05D7\\u05D5\\u05D2 \"), React.createElement(\"input\", {\n      className: \"inpt\",\n      required: true,\n      type: \"text\",\n      name: \"name\",\n      placeholder: \"\\u05DE\\u05D5\\u05DE\\u05DC\\u05E5 \\u05E9\\u05E9\\u05DD \\u05D4\\u05D7\\u05D5\\u05D2 \\u05D9\\u05D4\\u05D9\\u05D4 \\u05DE\\u05D6\\u05DE\\u05D9\\u05DF,\\u05E7\\u05E6\\u05E8 \\u05D5\\u05E7\\u05DC \\u05DC\\u05D4\\u05D1\\u05E0\\u05D4\",\n      value: this.state.name,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, \"\\u05E7\\u05D8\\u05D2\\u05D5\\u05E8\\u05D9\\u05D4\"), React.createElement(CategeorySelector, {\n      value: this.state.category,\n      func: this.handleChange,\n      categories: this.state.categoryList,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }, \"\\u05E9\\u05DD \\u05D4\\u05DE\\u05D0\\u05E8\\u05D2\\u05DF\"), React.createElement(\"input\", {\n      className: \"inpt\",\n      required: true,\n      type: \"text\",\n      name: \"organizer\",\n      value: this.state.organizer,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }, \"\\u05DE\\u05E1' \\u05D8\\u05DC\\u05E4\\u05D5\\u05DF\"), React.createElement(\"input\", {\n      className: \"inpt\",\n      required: true,\n      minlength: 9,\n      maxLength: 10,\n      type: \"tel\",\n      pattern: \"[0-9]{9-10}\",\n      name: \"phoneNumber\",\n      value: this.state.phoneNumber,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"formLine\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 228\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }, \"\\u05DE\\u05D9\\u05E7\\u05D5\\u05DD \\u05D4\\u05DE\\u05E4\\u05D2\\u05E9 \"), React.createElement(\"input\", {\n      className: \"inpt\",\n      required: true,\n      type: \"text\",\n      name: \"location\",\n      value: this.state.location,\n      onChange: this.handleChange,\n      placeholder: \"לדוגמא: רחוב אבן ספיר 15,קומה ב\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"\\u05DE\\u05D9\\u05E0\\u05D9\\u05DE\\u05D5\\u05DD \\u05DE\\u05E9\\u05EA\\u05EA\\u05E4\\u05D9\\u05DD\"), React.createElement(\"input\", {\n      className: \"inpt\",\n      required: true,\n      min: 0,\n      type: \"number\",\n      name: \"minPartici\",\n      value: this.state.minPartici,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, \"\\u05DE\\u05E7\\u05E1\\u05D9\\u05DE\\u05D5\\u05DD \\u05DE\\u05E9\\u05EA\\u05EA\\u05E4\\u05D9\\u05DD\"), React.createElement(\"input\", {\n      className: \"inpt\",\n      required: true,\n      min: this.state.minPartici,\n      type: \"number\",\n      name: \"maxPartici\",\n      value: this.state.maxPartici,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 268\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 269\n      },\n      __self: this\n    }, \"\\u05EA\\u05D0\\u05E8\\u05D9\\u05DA\"), React.createElement(\"input\", {\n      className: \"inpt\",\n      required: true,\n      type: \"date\",\n      name: \"date\",\n      min: \"2019-01-01\",\n      value: this.state.date,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 270\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 281\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 282\n      },\n      __self: this\n    }, \"\\u05E9\\u05E2\\u05EA \\u05D4\\u05EA\\u05D7\\u05DC\\u05D4\"), React.createElement(\"input\", {\n      className: \"inpt\",\n      required: true,\n      type: \"time\",\n      name: \"hour\",\n      value: this.state.hour,\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 283\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 293\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"labl\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294\n      },\n      __self: this\n    }, \"\\u05E9\\u05E2\\u05EA \\u05E1\\u05D9\\u05D5\\u05DD \\u05DE\\u05E9\\u05D5\\u05E2\\u05E8\\u05EA\"), React.createElement(\"input\", {\n      className: \"inpt\",\n      required: true,\n      type: \"time\",\n      name: \"endTime\",\n      value: this.state.endTime,\n      onChange: this.handleChange,\n      min: this.state.hour,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 295\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 306\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      className: \"inpt\",\n      rows: \"4\",\n      cols: \"50\",\n      required: true,\n      name: \"description\",\n      placeholder: \"\\u05DB\\u05DE\\u05D4 \\u05DE\\u05D9\\u05DC\\u05D9\\u05DD \\u05E2\\u05DC \\u05D4\\u05D7\\u05D5\\u05D2 \\u05DB\\u05D3\\u05D9 \\u05E9\\u05D4\\u05D7\\u05D1\\u05E8'\\u05D4 \\u05D9\\u05D3\\u05E2\\u05D5 \\u05DE\\u05D4 \\u05D4\\u05D3\\u05D9\\u05D1\\u05D5\\u05E8\",\n      value: this.state.description,\n      onChange: this.handleChange,\n      style: {\n        color: \"black\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 307\n      },\n      __self: this\n    }))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 322\n      },\n      __self: this\n    }), selectImg ? React.createElement(\"div\", {\n      className: \"imgusercWebForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 325\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"imgWebForm\",\n      alt: \"\\u05D4\\u05D7\\u05DC\\u05E3 \\u05EA\\u05DE\\u05D5\\u05E0\\u05D4\",\n      src: this.state.imgUrl,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"useretWebForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331\n      },\n      __self: this\n    }, this.state.progress, \"\\u05E9\\u05E0\\u05D4 \\u05EA\\u05DE\\u05D5\\u05E0\\u05D4\")) : React.createElement(\"div\", {\n      className: \"pinkBtnWebForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 336\n      },\n      __self: this\n    }, \"\\u05D4\\u05D5\\u05E1\\u05E4\\u05EA \\u05EA\\u05DE\\u05D5\\u05E0\\u05D4 \", this.state.progress), React.createElement(FileUploader, {\n      hidden: true,\n      accept: \"image/*\",\n      randomizeFilename: true,\n      storageRef: firebase.storage().ref(\"formImages\"),\n      onUploadError: this.handleUploadError,\n      onUploadSuccess: this.handleUploadSuccess,\n      onUploadStart: this.handleUploadStart,\n      onProgress: this.handleProgress,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 341\n      },\n      __self: this\n    })), React.createElement(\"input\", {\n      required: true,\n      className: \"greenBtnWebForm\",\n      type: \"submit\",\n      value: \"\\u05E9\\u05DC\\u05D7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 353\n      },\n      __self: this\n    }))))), this.endOfProcess ? React.createElement(Redirect, {\n      to: \"/\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 363\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default AddNewStud;","map":{"version":3,"sources":["/Users/lidorzaken/Documents/Sulam/my-app/src/components/forms/addNewStud.js"],"names":["React","Component","AddNewStud","constructor","props","handleProgress","progress","setState","endOfProcess","organizerId","today","Date","hour","getHours","endTime","length","dd","getDate","mm","getMonth","yyyy","getFullYear","user","undefined","id","state","name","category","organizer","phoneNumber","location","minPartici","maxPartici","description","date","imgUrl","numOfCurrPartici","isUploading","isConfirmed","categoryList","handleChange","bind","handleSubmit","handleUploadSuccess","handleUploadError","handleUploadStart","isValidForm","Alert","info","componentDidMount","categories","self","firebase","database","ref","once","then","snapshot","Object","keys","val","forEach","value","push","type","e","target","parseInt","preventDefault","set","remove","window","scrollTo","success","error","console","alert","filename","storage","child","getDownloadURL","url","render","color","selectImg"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport './form.css';\n\n\n\n\n\nclass AddNewStud extends Component {\n    constructor(props) {\n        super(props);\n        let endOfProcess = false;\n        let organizerId = \"\";\n    \n        let today = new Date();\n        let hour = today.getHours()\n        let endTime = (hour + 1)%24 + \"\"\n        hour+= \"\"\n        if(hour.length > 1)\n          hour = hour + \":00\"\n        else\n          hour = \"0\" + hour + \":00\"\n        if(endTime.length > 1)\n          endTime = endTime + \":00\"\n        else\n          endTime = \"0\" + endTime + \":00\"\n        let dd = today.getDate();\n        let mm = today.getMonth() + 1; //January is 0!\n        let yyyy = today.getFullYear();\n    \n        if (dd < 10) {\n          dd = \"0\" + dd;\n        }\n    \n        if (mm < 10) {\n          mm = \"0\" + mm;\n        }\n    \n        today = yyyy + \"-\" + mm + \"-\" + dd;\n        if (props.user != undefined) organizerId = props.user.id;\n        this.state = {\n          name: \"\",\n          category: \"\",\n          organizer: \"\",\n          phoneNumber: \"\",\n          location: \"\",\n          minPartici: \"\",\n          maxPartici: \"\",\n          description: \"\",\n          date: today,\n          hour: hour,\n          endTime: endTime,\n          imgUrl: \"\",\n          numOfCurrPartici: 0,\n          isUploading: false,\n          isConfirmed: false,\n          organizerId: organizerId,\n          categoryList: []\n        };\n        this.handleChange = this.handleChange.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleUploadSuccess = this.handleUploadSuccess.bind(this);\n        this.handleUploadError = this.handleUploadError.bind(this);\n        this.handleUploadStart = this.handleUploadStart.bind(this);\n        this.handleProgress = this.handleProgress.bind(this);\n        this.isValidForm = this.isValidForm.bind(this);\n      }\n      isValidForm() {\n        if (this.state.category == \"\") {\n          Alert.info(\"אנא בחר קטגוריה\");\n    \n          return false;\n        } else if (this.state.imgUrl == \"\") {\n          Alert.info(\"נשמח לתמונה בבקשה\");\n          return false;\n        } else if (this.state.hour == \"\" || this.state.date == \"\") {\n          Alert.info(\"איך נדע מתי זה קורה? נצטרך תאריך ושעה בבקשה\");\n          return false;\n        }\n    \n        return true;\n      }\n      //fetch the categories from the DB\n      componentDidMount() {\n        let categories = [];\n        let self = this;\n        firebase\n          .database()\n          .ref(\"/CategoryList/\")\n          .once(\"value\")\n          .then(function(snapshot) {\n            Object.keys(snapshot.val()).forEach(function(value) {\n              categories.push({ type: value });\n            });\n            if (self.state.category == \"\" && categories.length > 0) {\n              self.setState({\n                categoryList: categories,\n                category: categories[0].type\n              });\n            } else {\n              self.setState({ categoryList: categories });\n            }\n          });\n      }\n      // set the input to the right state\n      handleChange(e) {\n        if ([e.target.name] == \"maxPartici\" || [e.target.name] == \"minPartici\") {\n          this.setState({ [e.target.name]: parseInt(e.target.value) });\n        } else {\n          this.setState({ [e.target.name]: e.target.value });\n        }\n      }\n      //check for valid ,wait if still in upload ,redirect to main page\n      async handleSubmit(e) {\n        e.preventDefault();\n        if (!this.isValidForm()) {\n          return;\n        }\n        if (this.state.isUploading) {\n          return;\n        }\n        await this.setState({ isUploading: null });\n        let ref = firebase\n          .database()\n          .ref(\n            \"/CategoryList/\" +\n              this.state.category +\n              \"/classList\" +\n              \"/\" +\n              this.state.name +\n              \"/\"\n          );\n        ref.set(this.state);\n    \n        ref = firebase\n          .database()\n          .ref(\n            \"/CategoryList/\" +\n              this.state.category +\n              \"/classList/\" +\n              this.state.name +\n              \"/categoryList\"\n          );\n        ref.remove();\n        this.endOfProcess = true;\n        this.setState({});\n        window.scrollTo(0, 0);\n        Alert.success(\"תודה רבה! החוג נשלח לאישור ההנהלה ויוצג באתר לאחר שיאושר\");\n      }\n      //upload image funcs\n      handleUploadStart() {\n        this.setState({ isUploading: true });\n      }\n      handleUploadError(error) {\n        console.error(error);\n      }\n      handleProgress = progress => this.setState({ progress: progress + \"%\" });\n      handleUploadError(error) {\n        alert(\"Upload Error: \" + error);\n      }\n      handleUploadSuccess(filename) {\n        this.setState({ isUploading: false });\n        firebase\n          .storage()\n          .ref(\"formImages\")\n          .child(filename)\n          .getDownloadURL()\n          .then(url => this.setState({ imgUrl: url, progress: [] }));\n      }    \n    render(){\n            \n        return(\n            <div>\n            <div className=\"formPage\">\n              <NavBar />\n              <div className=\"completeReg\">\n                <h1 className=\"headLineForm\">טופס רישום חוג חדש</h1>\n                <div className=\"formEx\">\n                  <h1 className=\"fillDetLab\">אנא מלא פרטים</h1>\n                  <form onSubmit={this.handleSubmit}>\n                    <label>\n                      <span className=\"labl\"> שם החוג </span>\n                      <input\n                        className=\"inpt\"\n                        required\n                        type=\"text\"\n                        name=\"name\"\n                        placeholder=\"מומלץ ששם החוג יהיה מזמין,קצר וקל להבנה\"\n                        value={this.state.name}\n                        onChange={this.handleChange}\n                      />\n                    </label>\n    \n                    <label>\n                      <span className=\"labl\">קטגוריה</span>\n                      <CategeorySelector\n                        value={this.state.category}\n                        func={this.handleChange}\n                        categories={this.state.categoryList}\n                      />\n                    </label>\n    \n                    <label>\n                      <span className=\"labl\">שם המארגן</span>\n                      <input\n                        className=\"inpt\"\n                        required\n                        type=\"text\"\n                        name=\"organizer\"\n                        value={this.state.organizer}\n                        onChange={this.handleChange}\n                      />\n                    </label>\n                    <label>\n                      <span className=\"labl\">מס' טלפון</span>\n                      <input\n                        className=\"inpt\"\n                        required\n                        minlength={9}\n                        maxLength={10}\n                        type=\"tel\"\n                        pattern=\"[0-9]{9-10}\"\n                        name=\"phoneNumber\"\n                        value={this.state.phoneNumber}\n                        onChange={this.handleChange}\n                      />\n                    </label>\n    \n                    <div className=\"formLine\">\n                      <label>\n                        <span className=\"labl\">מיקום המפגש </span>\n                        <input\n                          className=\"inpt\"\n                          required\n                          type=\"text\"\n                          name=\"location\"\n                          value={this.state.location}\n                          onChange={this.handleChange}\n                          placeholder={\"לדוגמא: רחוב אבן ספיר 15,קומה ב\"}\n                        />\n                      </label>\n    \n                      <label>\n                        <span className=\"labl\">מינימום משתתפים</span>\n                        <input\n                          className=\"inpt\"\n                          required\n                          min={0}\n                          type=\"number\"\n                          name=\"minPartici\"\n                          value={this.state.minPartici}\n                          onChange={this.handleChange}\n                        />\n                      </label>\n    \n                      <label>\n                        <span className=\"labl\">מקסימום משתתפים</span>\n                        <input\n                          className=\"inpt\"\n                          required\n                          min={this.state.minPartici}\n                          type=\"number\"\n                          name=\"maxPartici\"\n                          value={this.state.maxPartici}\n                          onChange={this.handleChange}\n                        />\n                      </label>\n    \n                      <label>\n                        <span className=\"labl\">תאריך</span>\n                        <input\n                          className=\"inpt\"\n                          required\n                          type=\"date\"\n                          name=\"date\"\n                          min=\"2019-01-01\"\n                          value={this.state.date}\n                          onChange={this.handleChange}\n                        />\n                      </label>\n    \n                      <label>\n                        <span className=\"labl\">שעת התחלה</span>\n                        <input\n                          className=\"inpt\"\n                          required\n                          type=\"time\"\n                          name=\"hour\"\n                          value={this.state.hour}\n                          onChange={this.handleChange}\n                        />\n                      </label>\n    \n                      <label>\n                        <span className=\"labl\">שעת סיום משוערת</span>\n                        <input\n                          className=\"inpt\"\n                          required\n                          type=\"time\"\n                          name=\"endTime\"\n                          value={this.state.endTime}\n                          onChange={this.handleChange}\n                          min={this.state.hour}\n                        />\n                      </label>\n    \n                      <label>\n                        <textarea\n                          className=\"inpt\"\n                          rows=\"4\"\n                          cols=\"50\"\n                          required\n                          name=\"description\"\n                          placeholder=\"כמה מילים על החוג כדי שהחבר'ה ידעו מה הדיבור\"\n                          value={this.state.description}\n                          onChange={this.handleChange}\n                          style={{ color: \"black\" }}\n                        />\n                      </label>\n                    </div>\n    \n                    <label>\n                      <br />\n    \n                      {selectImg ? (\n                        <div className=\"imgusercWebForm\">\n                          <img\n                            className=\"imgWebForm\"\n                            alt=\"החלף תמונה\"\n                            src={this.state.imgUrl}\n                          />\n                          <div className=\"useretWebForm\">\n                            {this.state.progress}שנה תמונה\n                          </div>\n                        </div>\n                      ) : (\n                        <div className=\"pinkBtnWebForm\">\n                          הוספת תמונה {this.state.progress}\n                        </div>\n                      )}\n    \n                      <FileUploader\n                        hidden\n                        accept=\"image/*\"\n                        randomizeFilename\n                        storageRef={firebase.storage().ref(\"formImages\")}\n                        onUploadError={this.handleUploadError}\n                        onUploadSuccess={this.handleUploadSuccess}\n                        onUploadStart={this.handleUploadStart}\n                        onProgress={this.handleProgress}\n                      />\n                    </label>\n    \n                    <input\n                      required\n                      className=\"greenBtnWebForm\"\n                      type=\"submit\"\n                      value=\"שלח\"\n                    />\n                  </form>\n                </div>\n              </div>\n            </div>\n            {this.endOfProcess ? <Redirect to=\"/\" /> : null}\n          </div>\n        );\n      }\n    }\n\nexport default AddNewStud;"]},"metadata":{},"sourceType":"module"}